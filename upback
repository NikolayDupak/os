#!/bin/bash

dat=$(date +%Y-%m-%d)

backdir=$(ls $HOME | grep -E "(^Backup-[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9])+$" | sort | head -n 1)
sour="source"
resdir="$HOME/restore"
if [  -d $HOME/$backdir ]
then
    if [ ! -d $resdir ]; then mkdir $resdir; fi
    if [ ! -d $resdir/$sout ]; then mkdir $resdir/$sout; fi
    allfiles=$(ls $HOME/$backdir/$sour/* | grep -Ev "(.[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9])+$")
    echo $allfiles
    for file in $allfiles
    do
	    cp $file $resdir/ 
    done 
fi
